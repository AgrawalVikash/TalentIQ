<h2 mat-dialog-title>Add Candidate</h2>
<form [formGroup]="form" (ngSubmit)="submit()" class="form">
  <mat-form-field appearance="fill">
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" required />
    <mat-error *ngIf="form.get('name')?.hasError('required')">
      Name is required
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Email</mat-label>
    <input matInput formControlName="email" required type="email" />
    <mat-error *ngIf="form.get('email')?.hasError('required')">
      Email is required
    </mat-error>
    <mat-error *ngIf="form.get('email')?.hasError('email')">
      Enter a valid email
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Phone</mat-label>
    <input
      matInput
      formControlName="phone"
      required
      type="tel"
      pattern="[0-9]*"
      inputmode="numeric"
    />
    <mat-error *ngIf="form.get('phone')?.hasError('required')">
      Phone is required
    </mat-error>
    <mat-error *ngIf="form.get('phone')?.hasError('pattern')">
      Only numbers allowed
    </mat-error>
    <mat-error
      *ngIf="
        form.get('phone')?.hasError('minlength') ||
        form.get('phone')?.hasError('maxlength')
      "
    >
      Phone number must be exactly 10 digits
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Job ID</mat-label>
    <input matInput formControlName="jobId" required />
    <mat-error *ngIf="form.get('jobId')?.hasError('required')">
      Job ID is required
    </mat-error>
  </mat-form-field>

  <label for="resumeInput">Resume</label>
  <input
    id="resumeInput"
    type="file"
    accept=".pdf, .txt, .doc, .docx"
    (change)="onFileSelected($event)"
  />

  <div class="actions">
    <button mat-button type="button" (click)="close()">Cancel</button>
    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="form.invalid || !resume"
    >
      Add
    </button>
  </div>
</form>
